function [matrix] = ReadData()
    % this script reads data from 'RawData.csv' and 'tags.csv'
    % and preprocesses them. 
    % 'RawData.csv' contains the accelerometer data measured 
    % at 50 Hz for 41 activities. 'tags.csv' contains the 
    % the observation number at which an activity starts to be 
    % measured and the observation number at which measurement 
    % for that activity ends. 

    disp('Reading raw data');
    data = csvread('RawData.csv',1, 3);
    disp('Reading tags');
    tags = csvread('tags.csv',0,1);
    tags = tags(:,1:2);
    disp('Setting tags');
    ntags = length(tags);
    taggedActivities = {};

    % Matching the tags with the raw data -- the tagged 
    % array will contain accelerometer data for 42 separate 
    % activities 
    for t=1:ntags
      taggedActivities{t} = data((tags(t,1)+1):tags(t,2),:);
    end
    
    [ampx1,fx1] = freqAnalysis(taggedActivities{1}(1:end,1));
    [ampy1,fy1] = freqAnalysis(taggedActivities{1}(1:end,2));
    [ampz1,fz1] = freqAnalysis(taggedActivities{1}(1:end,3));
    
    [ampx2,fx2] = freqAnalysis(taggedActivities{10}(1:end,1));
    [ampy2,fy2] = freqAnalysis(taggedActivities{10}(1:end,2));
    [ampz2,fz2] = freqAnalysis(taggedActivities{10}(1:end,3));
    
    subplot(2,3,1);
    for j=1:length(ampx1)
       ampx1(j) = ampx1(j) - 0.05;
    end
    plot(fx1,ampx1);
    title('Activity 1 x-axis');
    
    subplot(2,3,2);
    for j=1:length(ampy1)
        ampy1(j) = ampy1(j) - 0.05;
    end
    plot(fy1,ampy1);
    title('Activity 1 y-axis');
    
    subplot(2,3,3);
    for j=1:length(ampz1)
        ampz1(j) = ampz1(j) - 0.05;
    end
    plot(fz1,ampz1);
    title('Activity 1 z-axis');
    
    subplot(2,3,4);
    for j=1:length(ampy1)
        ampy1(j) = ampy1(j) - 0.05;
    end
    plot(fx2,ampx2);
    title('Activity 2 x-axis');
    
    subplot(2,3,5);
    plot(fy2,ampy2);
    title('Activity 2 y-axis');
    
    subplot(2,3,6);
    plot(fz2,ampz2);
    title('Activity 2 z-axis');
    %matrix = SimilarityMeasure(taggedActivities);
end